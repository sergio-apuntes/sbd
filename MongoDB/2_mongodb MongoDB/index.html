
<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Descripción de aspectos esenciales de MongoDB">
      
      
      
        <link rel="canonical" href="https://sergio-apuntes.github.io/sbd/MongoDB/2_mongodb%20MongoDB/">
      
      
        <link rel="prev" href="../1_mongodb%20Introducci%C3%B3n./">
      
      
        <link rel="next" href="../3_mongodb%20ModeladoDatos/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>2. MongoDB - Apuntes Sistemas en Big Data</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.342714a4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#caracteristicas-de-mongodb" class="md-skip">
          Saltar a contenido
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabecera">
    <a href="../.." title="Apuntes Sistemas en Big Data" class="md-header__button md-logo" aria-label="Apuntes Sistemas en Big Data" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Apuntes Sistemas en Big Data
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              2. MongoDB
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Búsqueda" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Buscar">
        
        <button type="reset" class="md-search__icon md-icon" title="Limpiar" aria-label="Limpiar" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando búsqueda
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navegación" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Apuntes Sistemas en Big Data" class="md-nav__button md-logo" aria-label="Apuntes Sistemas en Big Data" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Apuntes Sistemas en Big Data
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introducción
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    NoSQL
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            NoSQL
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../noSQL/1_NoSQL%20Intro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1. Introducción
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../noSQL/2_NoSQL%20NoSoloSQL/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2. No Solo SQL
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../noSQL/3_NoSQL%20ModeloDatos/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3. Modelos de datos
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../noSQL/4_NoSQL%20Consistencia/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4. Consistencia
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    MongoDB
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            MongoDB
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../1_mongodb%20Introducci%C3%B3n./" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1. Introducción a MongoDB
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    2. MongoDB
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    2. MongoDB
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#caracteristicas-de-mongodb" class="md-nav__link">
    <span class="md-ellipsis">
      Características de MongoDB
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conceptos-basicos" class="md-nav__link">
    <span class="md-ellipsis">
      Conceptos básicos
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bson" class="md-nav__link">
    <span class="md-ellipsis">
      BSON
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bases-de-datos-relacionales-vs-mongodb" class="md-nav__link">
    <span class="md-ellipsis">
      Bases de datos Relacionales vs MongoDB
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../3_mongodb%20ModeladoDatos/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3. Diseño de modelado de bases de datos. schemaless
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../4_mongodb%20Instalaci%C3%B3n/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4. Instalación
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../5_mongodb%20PrimerosPasos/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5. Primeros pasos
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../6_mongodb%20OperacionesCRUD/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    6. Operaciones con datos CRUD
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../7_mongodb%20OperacionesDatos/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    7. Consulta de datos
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    ETL con Apache NiFi
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            ETL con Apache NiFi
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ApacheNiFi/1_ETL/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1. ETL con Apache NiFi
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ApacheNiFi/2_PostgreSQL/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2. PostgreSQL
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ApacheNiFi/3_ApacheNiFi/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3. Apache NiFi
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Elasctic Stack
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Elasctic Stack
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ElasticStack/1_elastic_stack/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1. Introducción
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ElasticStack/2_elastic_operaciones/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2. Elasticsearch. Operaciones
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ElasticStack/3_elastic_kibana/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3. Kibana
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ElasticStack/4_elastic_python/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4. Elasticsearch. Acceso desde cliente Python
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ElasticStack/5_elastic_nifi/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5. Elastic stack y Apache Nifi
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#caracteristicas-de-mongodb" class="md-nav__link">
    <span class="md-ellipsis">
      Características de MongoDB
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conceptos-basicos" class="md-nav__link">
    <span class="md-ellipsis">
      Conceptos básicos
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bson" class="md-nav__link">
    <span class="md-ellipsis">
      BSON
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bases-de-datos-relacionales-vs-mongodb" class="md-nav__link">
    <span class="md-ellipsis">
      Bases de datos Relacionales vs MongoDB
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



  <h1>2. MongoDB</h1>

<p><strong>MongoDB</strong> es una base de datos NoSQL, de <strong>código abierto</strong> y <strong>orientada a documentos</strong>. En lugar de almacenar datos en tablas, como lo hace una base de datos relacional, <strong>MongoDB</strong> almacena datos en documentos similares a <em>JSON</em> con un formato llamado <strong><em>BSON</em></strong> (<em>Binary JSON</em>). </p>
<p><em>BSON</em> extiende el formato <em>JSON</em> para incluir tipos de datos adicionales como fechas y binarios, lo que lo hace más adecuado para representar datos complejos.</p>
<p><em>MongoDB</em> <strong>destaca</strong> porque:</p>
<ul>
<li>Soporta <strong>esquemas dinámicos</strong>: diferentes documentos de una misma <em>colección</em> pueden tener atributos diferentes.</li>
<li>Aunque inicialmente tenía un soporte limitado de <strong>joins</strong>, desde la versión 5.2 se pueden realizar incluso entre colecciones particionadas. Actualmente MongoDB va por la versión. 8.0.</li>
<li>Soporte de <strong>transacciones</strong> sólo a nivel de aplicación. Lo que en un RDMS puede suponer múltiples operaciones, con <em>MongoDB</em> se puede hacer en una sola operación al insertar/actualizar todo un documento de una sola vez, pero si queremos crear una transacción entre dos documentos, la gestión la debe realizar el driver.</li>
</ul>
<p><em>MongoDB</em> se utiliza ampliamente en una variedad de aplicaciones, incluidas aquellas con grandes volúmenes de datos, cargas de trabajo de alta velocidad y requisitos de flexibilidad de esquema. Es especialmente popular en aplicaciones web y móviles, así como en entornos de Big Data y análisis en tiempo real.</p>
<p>Ejemplos muestran la versatilidad de MongoDB en diferentes sectores podrían ser:</p>
<ul>
<li>
<p><strong>eBay</strong>: Utiliza MongoDB para gestionar su enorme catálogo de productos y facilitar búsquedas rápidas y eficientes.</p>
</li>
<li>
<p><strong>Uber</strong>: Emplea MongoDB para almacenar datos de viajes y usuarios, permitiendo un análisis en tiempo real y mejorando la experiencia del cliente.</p>
</li>
<li>
<p><strong>LinkedIn</strong>: Utiliza MongoDB para manejar grandes volúmenes de datos de usuarios y conexiones, optimizando la búsqueda y la interacción en la plataforma.</p>
</li>
<li>
<p><strong>Foursquare</strong>: Esta aplicación de recomendaciones de lugares utiliza MongoDB para gestionar datos de usuarios y localizaciones, permitiendo un acceso rápido a información geoespacial.</p>
</li>
<li>
<p><strong>The Guardian</strong>: El medio de comunicación utiliza MongoDB para gestionar su contenido digital, facilitando la publicación y el acceso a artículos y multimedia de manera eficiente.</p>
</li>
</ul>
<h2 id="caracteristicas-de-mongodb">Características de <em>MongoDB</em></h2>
<p>Si tuviéramos que resumir a una la principal característica a destacar de <em>MongoDB</em>, sin duda esta sería la <strong>velocidad</strong>, que alcanza un <strong>balance perfecto entre rendimiento y funcionalidad</strong> gracias a su sistema de consulta de contenidos. Pero sus características principales no se limitan solo a esto, <em>MongoDB</em> cuenta, además, con otras que lo posicionan posiblemente como la base de datos NoSQL más popular para muchos desarrolladores.</p>
<p>Características principales:</p>
<ul>
<li><strong>Consultas ad hoc</strong>. Con MongoDb podemos realizar todo tipo de consultas. Podemos hacer búsqueda por campos, consultas de rangos y expresiones regulares. Además, estas consultas pueden devolver un campo específico del documento, pero también puede ser una función JavaScript definida por el usuario.</li>
<li><strong>Indexación</strong>. El concepto de índices en <em>MongoDB</em> es similar al empleado en bases de datos relacionales, con la diferencia de que cualquier campo documentado puede ser indexado y añadir múltiples índices secundarios.</li>
<li><strong>Replicación</strong>. Del mismo modo, la replicación es un proceso básico en la gestión de bases de datos. <em>MongoDB</em> soporta el tipo de replicación primario-secundario. De este modo, mientras podemos realizar consultas con el primario, el secundario actúa como réplica de datos en solo lectura a modo copia de seguridad con la particularidad de que los nodos secundarios tienen la habilidad de poder elegir un nuevo primario en caso de que el primario actual deje de responder.</li>
<li><strong>Balanceo de carga</strong>. Resulta muy interesante cómo <em>MongoDB</em> puede escalar la carga de trabajo. <em>MongoDB</em> tiene la capacidad de ejecutarse de manera simultánea en múltiples servidores, ofreciendo un balanceo de carga o servicio de replicación de datos, de modo que podemos mantener el sistema funcionando en caso de un fallo del hardware.</li>
<li><strong>Almacenamiento de archivos</strong>. Aprovechando la capacidad de <em>MongoDB</em> para el balanceo de carga y la replicación de datos, Mongo puede ser utilizado también como un sistema de archivos. Esta funcionalidad, llamada GridFS e incluida en la distribución oficial, permite manipular archivos y contenido.</li>
<li><strong>Ejecución de JavaScript del lado del servidor</strong>. <em>MongoDB</em> tiene la capacidad de realizar consultas utilizando JavaScript, haciendo que estas sean enviadas directamente a la base de datos para ser ejecutadas.</li>
</ul>
<h2 id="conceptos-basicos">Conceptos básicos</h2>
<p>Hay una serie de conceptos que conviene conocer antes de entrar en detalle:</p>
<ul>
<li><em>MongoDB</em> tienen el mismo concepto de base de datos que un RDMS. Dentro de una instancia de <em>MongoDB</em> podemos tener 0 o más bases de datos, actuando cada una como un contenedor de alto nivel.</li>
<li>Una <strong>base de datos</strong> tendrá 0 o más <strong>colecciones</strong>. Una <strong>colección</strong> es muy similar a lo que entendemos como <strong><em>tabla</em></strong> dentro de un RDMS. <em>MongoDB</em> ofrece diferentes tipos de colecciones, desde las normales cuyo tamaño crece conforme lo hace el número de documentos, como las colecciones <em>capped</em>, las cuales tienen un tamaño predefinido y que pueden contener una cierta cantidad de información que se sustituirá por nueva cuando se llene.</li>
<li>Las <strong>colecciones</strong> contienen 0 o más <strong>documentos</strong>, por lo que es similar a una <strong><em>fila</em></strong> o <strong><em>registro</em></strong> de un RDMS.</li>
<li>Cada <strong>documento</strong> contiene 0 o más <strong>atributos</strong>, compuestos de <strong><em>parejas clave/valor</em></strong>. Cada uno de estos documentos no sigue ningún esquema, por lo que dos documentos de una misma colección pueden contener todos los atributos diferentes entre sí.</li>
</ul>
<div align="center">
    <a class="glightbox" href="../../images/MongoDB/MongoDB01.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img src="../../images/MongoDB/MongoDB01.png" alt="MongoDB" width="50%" /></a>
</div>

<p>Así pues, tenemos que una base de datos va a contener varias colecciones, donde cada colección contendrá un conjunto de documentos. Podemos hacer una correspondencia rápida entre bases de datos Relacionales y NoSQL:</p>
<div align="center">
    <a class="glightbox" href="../../images/MongoDB/MongoDB02.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img src="../../images/MongoDB/MongoDB02.png" alt="MongoDB" width="31%" /></a>
    <a class="glightbox" href="../../images/MongoDB/MongoDB17.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img src="../../images/MongoDB/MongoDB17.png" alt="MongoDB" width="60%" /></a>
</div>

<p>Además, <em>MongoDB</em> soporta índices, igual que cualquier RDMS, para acelerar la búsqueda de datos. Al realizar cualquier consulta, se devuelve un cursor, con el cual podemos hacer cosas tales como contar, ordenar, limitar o saltar documentos.</p>
<h2 id="bson"><em>BSON</em></h2>
<p><em>MongoDB</em> almacena los documentos mediante <em>BSON</em> (<a href="https://bsonspec.org/spec.html">Binary JSON</a>).</p>
<p>Repasemos el concepto de <strong>JSON</strong>: <em>JavaScript Object Notation</em><br />
- Formato de texto sencillo para el intercambio de datos.<br />
- Subconjunto de la notación literal de objetos de JavaScript.<br />
- Alternativa a XML como lenguaje de intercambio de datos. Mucho más sencillo de leer y escribir.<br />
- Uso extendido en bases de datos noSQL, entre ellas <em>JSON</em>: JavaScript Object Notation<br />
- Ampliamente soportado por multitud de lenguajes de programación.<br />
- Un objeto <em>JSON</em> está formado por uno o varios pares string: value (cadena:valor).<br />
- Soporta diferentes tipos de datos como cadenas de texto, números, fecha, hora, valores nulos y booleanos.  </p>
<div align="center">
    <a class="glightbox" href="../../images/MongoDB/MongoDB03.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img src="../../images/MongoDB/MongoDB03.png" alt="MongoDB" width="90%" /></a>
</div>

<p>Mediante JavaScript podemos crear objetos que se representan con <em>JSON</em>. Internamente, <em>MongoDB</em> almacena los documentos mediante <em>BSON</em> (<a href="https://www.mongodb.com/json-and-bson">Binary JSON</a>). Podemos consultar la especificación en la <a href="http://BSONSpec.org">web oficial de <em>BSON</em></a> </p>
<p><strong>BSON</strong> representa un superset de <em>JSON</em> ya que:</p>
<ul>
<li>Permite almacenar datos en binario</li>
<li>Incluye un conjunto de tipos de datos no incluidos en <em>JSON</em>, como pueden ser ObjectId, Date o BinData.</li>
</ul>
<p>Podemos consultar todos los tipos que soporta un objeto <em>BSON</em> en <a href="http://docs.mongodb.org/manual/reference/bson-types/">http://docs.mongodb.org/manual/reference/bson-types/</a></p>
<p>Un ejemplo de un objeto <em>BSON</em> podría ser:</p>
<div class="language-js highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kd">var</span><span class="w"> </span><span class="nx">yo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="w">  </span><span class="nx">nombre</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Aitor&quot;</span><span class="p">,</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="w">  </span><span class="nx">apellidos</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Medrano&quot;</span><span class="p">,</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="w">  </span><span class="nx">fnac</span><span class="o">:</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Date</span><span class="p">(</span><span class="s2">&quot;Oct 3, 1977&quot;</span><span class="p">),</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="w">  </span><span class="nx">hobbies</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;programación&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;videojuegos&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;baloncesto&quot;</span><span class="p">],</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="w">  </span><span class="nx">casado</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="w">  </span><span class="nx">hijos</span><span class="o">:</span><span class="w"> </span><span class="mf">2</span><span class="p">,</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="w">  </span><span class="nx">contacto</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="w">    </span><span class="nx">twitter</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;@aitormedrano&quot;</span><span class="p">,</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="w">    </span><span class="nx">email</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;a.medrano@edu.gva.es&quot;</span>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="w">  </span><span class="nx">fechaCreacion</span><span class="o">:</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Timestamp</span><span class="p">()</span>
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="p">}</span>
</span></code></pre></div>
<p>Los documentos <strong>BSON</strong> tienen las siguientes restricciones:</p>
<ul>
<li>No pueden tener un tamaño superior a 16 MB.</li>
<li>El atributo <code>_id</code> queda reservado para la clave primaria.</li>
<li>Desde <em>MongoDB</em> 5.0 los nombres de los campos pueden empezar por <code>$</code> y/o contener el <code>.</code>, aunque en la medida de lo posible, es recomendable evitar su uso.</li>
</ul>
<p>Además <em>MongoDB</em>:</p>
<ul>
<li><strong>No asegura</strong> que el <strong>orden</strong> de los campos se respete.</li>
<li>Es <strong>sensible</strong> a los <strong>tipos de los datos</strong></li>
<li>Es <strong>sensible</strong> a las <strong>mayúsculas</strong>.</li>
</ul>
<p>Por lo que estos documentos son distintos:</p>
<div class="language-js highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="p">{</span><span class="s2">&quot;edad&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;18&quot;</span><span class="p">}</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="p">{</span><span class="s2">&quot;edad&quot;</span><span class="o">:</span><span class="w"> </span><span class="mf">18</span><span class="p">}</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="p">{</span><span class="s2">&quot;Edad&quot;</span><span class="o">:</span><span class="w"> </span><span class="mf">18</span><span class="p">}</span>
</span></code></pre></div>
<p>Si queremos validar si un documento <em>JSON</em> es válido, podemos usar la web <a href="http://jsonlint.com/">JSONLint Validator and Formatter</a>. Hemos de tener en cuenta que sólo valida <em>JSON</em> y no <em>BSON</em>, por tanto nos dará errores en los tipos de datos propios de <em>BSON</em>.</p>
<h2 id="bases-de-datos-relacionales-vs-mongodb">Bases de datos Relacionales vs <em>MongoDB</em></h2>
<p>Aquí tenemos un esquema de los elementos de una base de datos representada tanto por un sistema relacional tradicional, frente a la misma estructura con una base de datos en <em>MongoDB</em></p>
<p>Primero la base de datos relacional</p>
<div align="center">
    <a class="glightbox" href="../../images/MongoDB/MongoDB18.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img src="../../images/MongoDB/MongoDB18.png" alt="MongoDB" width="80%" /></a>
</div>

<p>y ahora la misma representación en <em>MongoDB</em></p>
<div align="center">
    <a class="glightbox" href="../../images/MongoDB/MongoDB19.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img src="../../images/MongoDB/MongoDB19.png" alt="MongoDB" width="90%" /></a>
</div>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Volver al principio
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.indexes", "navigation.instant", "navigation.instant.progress", "toc.follow", "navigation.top", "content.code.copy"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
    
  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>